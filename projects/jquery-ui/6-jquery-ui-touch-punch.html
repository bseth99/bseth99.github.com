
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jQuery UI Touch Punch - Hack to Enable Functionality on Mobile Devices</title>
    
    <meta name="author" content="Ben Olson">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/style.css" rel="stylesheet">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

   <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css">

   <script src="http://code.jquery.com/jquery.js"></script>
   <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
   <script src="/assets/js/jquery.ui.touch-punch.js"></script>

  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Ben's Sandbox</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/projects/index.html">Projects</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h3>jQuery UI Touch Punch - Hack to Enable Functionality on Mobile Devices </h3>


<hr style="margin: 0px"/>



<!-- Place this tag where you want the +1 button to render. -->
<div style="position: relative; top: -20px; text-align: right; height: 30px">
  <span><a href="http://benknowscode.wordpress.com/2012/12/01/proxying-touch-events-to-enable-jquery-ui-mouse-interactions/">View Blog</a></span>&nbsp;&nbsp;
  <span><a href="https://github.com/bseth99/sandbox/blob/master/projects/jquery-ui/6-jquery-ui-touch-punch.html">View Source</a></span>&nbsp;&nbsp;
  <div class="g-plusone" data-size="small"></div>
</div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = false;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>



<div class="row">
  <div class="span12">
    


<style>
.wrapper { position: relative; height: 400px; width: 400px; margin: auto; }
.box { position: absolute; background-color: red; }
.slide { width: 350px; font-size: 8pt; }

canvas { position: absolute; left: 200px; border: 1px solid green; height: 150px; width: 150px; }
svg { position: absolute; top: 200px; border: 1px solid blue; height: 150px; width: 150px; }
#divtg { position: absolute; top: 250px; left: 250px; background-color: orange; height: 50px; width: 50px; }
</style>

<div class="discussion">
A few tests of the <a href="http://touchpunch.furf.com/">Touch Punch</a> hack that enables jQuery UI widgets like
Draggable to work properly on a mobile device.  Without it, the Slider and Draggable widgets would not function
properly.

<br/>
<br/>
The size of the object being dragged around needs to be appropriate so it will capture the touch events.
The red DIV below has a Draggable interaction added.  The default size of 5px is difficult to drag on a mobile device.
Use the slider to make the DIV larger.  There is also a Canvas (green) and SVG (blue) object to test interaction.  These
elements are listening to mousedown and mouseup events which will resize the red DIV as well.  Touch Punch should
forward the touchstart and touchend properly to these events.  However, the mousedown acts more like a click - the animation
does not continue smoothly until the end.  Instead, it jumps to the end and then animates back to the start.
</div>
<br/>

<div class="wrapper">

   <div id="sizer" class="slide"></div>
   <br/>

   <canvas id="cvstg"></canvas>
   <svg><rect id="svgtg" x="50" y="50" width="50" height="50" fill="purple"></rect></svg>
   <div id="divtg"></div>

   <div id="dragel" class="box"></div>
</div>



<script>

$(function() {

   $('#sizer')
      .slider({
         min:5,
         max:50,
         slide: function ( e, ui ) {
                  $('#dragel').css({ width: ui.value, height: ui.value });
               }
            });

   $('#dragel')
      .draggable()
      .css({ width: 5, height: 5, top: 50, left: 50 });

   var sNow = 0;
   $('#cvstg, #svgtg, #divtg')
      .on('mousedown', function (e) {
            sNow = $('#sizer').slider('value');

            $('#sizer')
               .stop()
               .animate( {tabIndex: 0}, {
                  duration: 1000,
                  step: function (now, fx) {
                        var v = sNow + (50 - sNow) * fx.pos;
                        $('#sizer').slider( 'value', v );
                        $('#dragel').css({ width: v, height: v });
                     }
                  });

        })
       .on('mouseup', function (e) {
            $('#sizer')
               .stop()
               .animate( {tabIndex: 0}, {
                  duration: 1000,
                  step: function (now, fx) {
                        var v = sNow + (50 - sNow) * (1-fx.pos);
                        $('#sizer').slider( 'value', v );
                        $('#dragel').css({ width: v, height: v });
                     }
                  });
        });

});

</script>


  </div>
</div>

</div>


      </div>

      <footer>
        <p>&copy; Ben Olson 2012
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34780028-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

